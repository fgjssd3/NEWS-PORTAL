{% load static %}
{% block body %}

<!doctype html>
<html lang="en">
<head>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>


  <title>DISTINCTION PTF | Contactez nous</title>
 <link rel="icon" type="image/png" href="{% static 'images/logo2.png' %}">
  <!-- Bootstrap 5 + FA6 + SweetAlert2 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" rel="stylesheet"/>
  <script defer src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <style>
    :root{ --ink:#0f172a; --muted:#64748b; --primary:#0ea5e9; --primary-2:#0369a1; }
    body{ background:#f8fafc; color:var(--ink); }
    .hero{
      background: radial-gradient(1000px 520px at 110% -10%, #e9d5ff 0, transparent 55%),
                  linear-gradient(180deg, #fff 0, #f1f5f9 100%);
      border-bottom:1px solid #e2e8f0;
    }
    .section-card{ border:0; border-radius:1rem; background:#fff; box-shadow:0 12px 34px rgba(15,23,42,.10); }
    .contact-item{
      display:flex; gap:.75rem; align-items:flex-start; padding:.75rem 1rem;
      background:#fff; border:1px solid #e2e8f0; border-radius:.75rem;
    }
    .contact-item i{
      width:40px; height:40px; display:grid; place-items:center; border-radius:.6rem;
      background:#eff6ff; border:1px solid #dbeafe; color:#1d4ed8;
    }
    .form-floating>label{ color:var(--muted); }
    .map-wrap iframe{ width:100%; min-height:360px; border:0; border-radius:1rem; }
  </style>
</head>
<body>

  {% include 'header.html' %}

  <!-- Hero -->
  <section class="hero py-4">
    <div class="container">
      <nav aria-label="breadcrumb" class="mb-2">
        <ol class="breadcrumb mb-0">
          <li class="breadcrumb-item"><a href="{% url 'home' %}">Home</a></li>
          <li class="breadcrumb-item active" aria-current="page">Contact</li>
        </ol>
      </nav>
      <h1 class="h3 mb-0" style="color:var(--primary-2)">
        <i class="fa-regular fa-paper-plane me-2"></i> Contactez nous
      </h1>
    </div>
  </section>

  <!-- Content -->
  <div class="container py-4 py-lg-5">
    <div class="row g-4">
      <!-- Left: Contact Details + Map -->
      <div class="col-lg-5">
        <div class="section-card p-4">
          <h2 class="h5 mb-3">Nos coordonnées</h2>

          <div class="contact-item mb-2">
            <i class="fa-solid fa-location-dot"></i>
            <div>
              <div class="fw-semibold">Adresse</div>
              <a class="text-decoration-none" target="_blank"
                 href="https://maps.google.com/?q=India">
                kinshasa , RDC
              </a>
            </div>
          </div>

          <div class="contact-item mb-2">
            <i class="fa-regular fa-envelope"></i>
            <div>
              <div class="fw-semibold">Email</div>
              <a class="text-decoration-none" href="mailto:myemail@gmail.com">distinctionplateforme@gmail.com</a>
            </div>
          </div>

          <div class="contact-item">
            <i class="fa-solid fa-phone"></i>
            <div>
              <div class="fw-semibold">Telephone</div>
              <a class="text-decoration-none" href="tel:+918602768216">+243825491868</a>
            </div>
          </div>
        </div>

        <div class="section-card p-2 mt-4 map-wrap">
          <!-- Replace this src with your exact map embed if needed -->
          <iframe
          src="https://www.google.com/maps?q=Democratic+Republic+of+the+Congo&output=embed"
            allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div>
      </div>

      <!-- Right: Form -->
      <div class="col-lg-7">
        <div class="section-card p-4 p-md-5">
          <h2 class="h5 mb-3">Laisser un message</h2>
          <p class="text-muted mb-4">Nous vous répondrons dans les plus brefs délais.</p>

          <form method="post" id="contactForm" novalidate>
            {% csrf_token %}
            <div class="row g-3">
              <div class="col-md-6">
                <div class="form-floating">
                  <input type="text" class="form-control" id="name" name="name" placeholder="Full name"
                         required minlength="2" maxlength="80">
                  <label for="name"><i class="fa-regular fa-user me-1"></i> Nom</label>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-floating">
                  <input type="email" class="form-control" id="email" name="email" placeholder="Email address"
                         required maxlength="120">
                  <label for="email"><i class="fa-regular fa-envelope me-1"></i> Email</label>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-floating">
                  <input type="tel" class="form-control" id="mobnum" name="mobnum" placeholder="Phone number"
                         inputmode="numeric" pattern="[0-9]{10}" maxlength="10" required>
                  <label for="mobnum"><i class="fa-solid fa-phone me-1"></i> Téléphone</label>
                </div>
              </div>
              <div class="col-12">
                <div class="form-floating">
                  <textarea class="form-control" id="message" name="message" placeholder="Your message"
                            style="height: 140px" required minlength="5" maxlength="1000"></textarea>
                  <label for="message"><i class="fa-regular fa-message me-1"></i> Message</label>
                </div>
              </div>
            </div>

            <div class="d-flex justify-content-end mt-3">
              <button type="submit" class="btn btn-primary">
                <i class="fa-regular fa-paper-plane me-1"></i> Soumettre
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  {% include 'footer.html' %}

  <!-- JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    // light client-side validation + double-submit guard
    window.addEventListener('DOMContentLoaded', function(){
      const form = document.getElementById('contactForm');
      if(!form) return;

      form.addEventListener('submit', function(e){
        const name = document.getElementById('name').value.trim();
        const email = document.getElementById('email').value.trim();
        const mob = document.getElementById('mobnum').value.trim();
        const msg = document.getElementById('message').value.trim();

        if(name.length < 2){ e.preventDefault(); Swal.fire({icon:'error', title:'Enter your name'}); return; }
        if(!email){ e.preventDefault(); Swal.fire({icon:'error', title:'Enter a valid email'}); return; }
        if(!/^\d{10}$/.test(mob)){ e.preventDefault(); Swal.fire({icon:'error', title:'Enter a 10-digit mobile number'}); return; }
        if(msg.length < 5){ e.preventDefault(); Swal.fire({icon:'error', title:'Message too short'}); return; }

        form.querySelector('button[type="submit"]')?.setAttribute('disabled','disabled');
      });

      // Server feedback via context variable `error`
      {% if error == "no" %}
        Swal.fire({
          icon:'success',
          title:'Message sent',
          text:'We will contact you soon.',
          timer:1600, showConfirmButton:false, timerProgressBar:true
        });
      {% elif error == "yes" %}
        Swal.fire({ icon:'error', title:'Something went wrong', text:'Please try again.' });
      {% endif %}
    });
  </script>
</body>
</html>

{% endblock %}
